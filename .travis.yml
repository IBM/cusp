language: java
jdk:
- openjdk8
before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -rf $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_install: ./deployment/before_install.sh
install: ./gradlew build -x sign -Psigning.password=$PASSPHRASE
after_success: ./deployment/deploy.sh
env:
  global:
  - secure: knF/3Ja6hnoOrzGzlHIK6QkEmF7sOpjuW52Mm3wx+LhZuYo6Bf6hWbDfq5qy4tWlOdOzKkhynneGuS8ON/u72pYxbnmdxsifGl7JVdXVk5/0Txpci4Wl1oqwBfQ5mU93dJ9tncgJ0GJ/L4sgvOMsKCiBByHc7wI5mFEpu3lNzZiB/uC2V4H5YxwxLKEPE15QUa6YPcaEus5UFDjXQ4VwzKYkgCLtONt7S1nmIipSxti6zqa9e/JNmsxbxCg63qdDfHHZOiErzTLXhgkS+UAw83jRxd8+A4liu8PnpCFmZ56AUBmsV2p1VzLkdhYri0iBUpS/8ZpnHOYntlgTL0zfMXduZaoyPyoSXVzUtiFbUMWAJ9KmgrDq4FUF54oI1mTE7Ch3g2Jjk7jbN0+FCpcFHUZ6adt2dLUM1WNNz6qVlDjzUd8AG3EsWBqq3oJbvT+w31qy49jAl1xVuDibBYS3L4TWp9x07ytm+iE+nbPwpGHz1sC5iqlppr4cd/rCwyz34azu2bKecvlZvUA9IaNrOd1HjeQ1CkvvlFGj3J/vrR5oGLyUh9griVWTBiTZT++f/jkqBygrgMe2+uUvBotkfeaXMLxBIL/gLtJ/q/NfWbcBuue/B8NVpssYW7yv/oMIW1/3KuaWWWlB7prPqM/U6C8ah6d3uWCraIr7VAfA3Wk=
  - secure: NVSuASN+vrjBC43WuZMo+s+RyR1pFmnZRTks9NIUxxzE9vmN8kiswt+myWAlowv5ku5iLNq278wIcXwG8sl8SQ4dtiZAmLvD9iuNJjk3PzEtxnsmKgbVnGDysGIfzzUZIoWGrMo6x+ofOCU1jwqp6R31+AehGQdneWC5DRKQDKXrUYmBOv+dMFthZN6mJ0Ev/iUUInDz5ZF2Zkv+LITi2qoU3nD682GFTtnTuYGk+6KIzVsY+WXExlOAz1dBQaUbCuqT5UbSLCaLDqGVMvHa2TzhxtOWwBeLLyPltLB1HUeNWLM+SOr0BjgifLRLyZoNQTFeGdXYTNZYmX3k8iDzARW2Cn7UPkCVF5n8cF0VRUocnfmF/rTgE+h354AOelpjPG+bMDJCFANuJtPzvG5ge28JpEyxwtp+wVECEAnRQVcFfUVxEkPnmrRdpFVwv+txJAfEiyE1LXItUtPKHXW2rwXtj3BfGB5NVpYctRA8P2JXRHYgo+zzNf8mkKJF93jcdBXXjaPoAlVWdU6izV3ecUOQOTOd0B2QtjJRmiHGEluULlEtFKcDMS0j1RA/uCdg/eJM2AFvLCRjDJpizBEOwRSlL1lNHo+QBy/wNCnUE+bunIrnGFTCPO1Jgg+TujpLAqkFuzjC4l+rHuuua2s9gPimJ1raDiy33SdzJs080v8=
  - secure: f0CXUjUaQ3UQ8+rq66a3df7hgVnkc+tTSs3gtFY9mtzXFV/RBKAR+alOU4GVtywpAM/4xHpn3YnhEcPgI+Q0TczkZ/EQQBx2U8YKhnxnB97aqjCDM/EJcsnP4vPdwaOMeWhXFOJ1g3MEpF40puMglgUeH5Tl+oB95bHV0kh1cPNw6Qv/4XYf5eVeud4akQPQfgHGjzYmJVX2MrLt54kIcqCPWDyCQX8il9szIV/wuKip0UXVPjwn1xt1/OexOuZQ5UdBH66agd04jLZ1UciiIdkop1u9zu1FjCoUS2sOyGoMNa/yM0igfNt+ZJJoSsGBHjq4wXv5MDH3Yki4GawomEAVv11LEqoiRX3mY+LSfN8z8kCQr0X5jbNNJu0NRvgyo54u+7GQyLea8JxW5g4DZr6XJCYFGG5+QreOMTblXubIC1zuqJzBZm7OBC4qbmaL9hFFjuVpi6vt7DVMbzSEweauCXqlvyv20pSfAEsuiKBCkfFKGq+nnUhmJloJcGA77ZLq39q2AOBLQ7xmKxH9D2Au9T8pM5glKFHNbvlPyfkF3zhhxtS2j594ob4swRO6zoJarasG6YAFCSeKPB+KOve6gVtpphFZOfRVUGnDecOtR+rPr+8X3ju7S/Ma4SA/YlprUWX0wtO9TtNTWQNhXgSs4AyuMpcr7aCAFS6FAf4=
